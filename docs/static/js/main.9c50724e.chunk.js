(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{15:function(e,t,n){},35:function(e,t,n){e.exports=n(49)},40:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(25),o=n.n(r),c=(n(40),n(4)),l=n(5),i=n(8),u=n(6),m=n(7),h=(n(15),n(30)),d=n(14),p=n(53),b=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.user;return s.a.createElement("tr",{key:"userDiv:"+e.id,style:{border:"solid 1px black",padding:10}},s.a.createElement("td",null,s.a.createElement("i",null,e.id)),s.a.createElement("td",null,e.name," ","("+e.username+")"),s.a.createElement("td",null,e.email),s.a.createElement("td",null,s.a.createElement(p.a.Link,{href:"./#/posts?userId="+e.id},"See Posts")))}}]),t}(s.a.Component),f=n(50),v=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={users:[]},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://jsonplaceholder.typicode.com/users").then((function(e){return e.json()})).then((function(t){e.setState({users:t})}))}},{key:"render",value:function(){for(var e=[],t=null,n=0;n<this.state.users.length;n++){var a=this.state.users[n];t=s.a.createElement(b,{user:a,key:n}),e.push(t)}return s.a.createElement("div",{className:"App"},s.a.createElement(f.a,null,s.a.createElement("table",null,s.a.createElement("tbody",null,e))))}}]),t}(s.a.Component),y=n(11),E=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{style:{margin:"10px",padding:"10px",border:"1px dashed red"}},s.a.createElement("p",{style:{color:"red"}}," ",this.props.comment.name,"(",this.props.comment.email,")"),s.a.createElement("br",null),s.a.createElement("p",null,this.props.body))}}]),t}(s.a.Component),j={usersMap:{},getUser:function(e,t){if(void 0===j.usersMap[e]){if(void 0!==localStorage){var n=localStorage.getItem("user:"+e);if(n)return n=JSON.parse(n),j.usersMap[e]=n,void t(n)}fetch("https://jsonplaceholder.typicode.com/users/"+e).then((function(e){return e.json()})).then((function(n){j.usersMap[e]=n,void 0!==localStorage&&localStorage.setItem("user:"+e,JSON.stringify(n)),t(n)}))}else t(j.usersMap[e])},getPosts:function(e){fetch("https://jsonplaceholder.typicode.com/posts").then((function(e){return e.json()})).then((function(t){e(t)}))},getPostsFromUser:function(e,t){fetch("https://jsonplaceholder.typicode.com/posts?userId="+e).then((function(e){return e.json()})).then((function(e){t(e)}))},getComments:function(e,t){fetch("https://jsonplaceholder.typicode.com/comments?postId="+e).then((function(e){return e.json()})).then((function(e){t(e)}))}},O=j,k=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={user:void 0,comments:[]},n.setUserCallback=n.setUserCallback.bind(Object(y.a)(n)),n.setCommentsCallback=n.setCommentsCallback.bind(Object(y.a)(n)),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"setUserCallback",value:function(e){this.setState({user:e})}},{key:"setCommentsCallback",value:function(e){this.setState({comments:e})}},{key:"componentDidMount",value:function(){O.getUser(this.props.post.userId,this.setUserCallback),O.getComments(this.props.postId,this.setCommentsCallback)}},{key:"render",value:function(){for(var e=[],t=0;t<this.state.comments.length;t++){var n=this.state.comments[t],a=s.a.createElement(E,{Uid:n.id,key:n.id,comment:n,body:n.body});e.push(a)}var r=null;return this.state.user&&(r=s.a.createElement("p",{style:{font:"Arial"}},s.a.createElement("i",null,this.props.post.id," ",this.state.user.name,"("+this.state.user.email+")"))),s.a.createElement("div",{className:"posts"},r,s.a.createElement("p",{style:{font:"Arial"}},s.a.createElement("i",null,this.props.body)),s.a.createElement("br",null),s.a.createElement("hr",null),s.a.createElement("br",null),e)}}]),t}(s.a.Component),g=n(51),I=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={posts:[],currentPostIndex:0},n.testF=n.testF.bind(Object(y.a)(n)),n.increaseIndex=n.increaseIndex.bind(Object(y.a)(n)),n.decreaseIndex=n.decreaseIndex.bind(Object(y.a)(n)),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"increaseIndex",value:function(){var e=this.state.currentPostIndex;this.setState({currentPostIndex:e+1})}},{key:"decreaseIndex",value:function(){var e=this.state.currentPostIndex;e<1||this.setState({currentPostIndex:e-1})}},{key:"testF",value:function(e){console.log("testF called"),console.log(e)}},{key:"componentDidMount",value:function(){var e=this;fetch("https://jsonplaceholder.typicode.com/posts").then((function(e){return e.json()})).then((function(t){e.setState({posts:t})}))}},{key:"render",value:function(){var e=this;console.log("render users count:"+this.state.posts.length+" ==>"+new Date);var t=null;if(this.state.posts.length>0&&this.state.posts.length>this.state.currentPostIndex&&this.state.currentPostIndex>=0){var n=this.state.posts[this.state.currentPostIndex];t=s.a.createElement(k,{key:n.id,Uid:n.userId,postId:n.id,post:n,body:n.body})}return s.a.createElement("div",{className:"App"},s.a.createElement(g.a,{variant:"primary",onClick:function(){return e.decreaseIndex()},disabled:0===this.state.currentPostIndex},"prev"),"\xa0",s.a.createElement(g.a,{variant:"primary",onClick:function(){return e.increaseIndex()}},"next"),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement(f.a,null,t))}}]),t}(s.a.Component),x=n(52),C=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={loading:!0,posts:[],line:""},n.setPosts=n.setPosts.bind(Object(y.a)(n)),n.change=n.change.bind(Object(y.a)(n)),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"change",value:function(e){this.setState({line:e})}},{key:"setPosts",value:function(e){this._mounted&&this.setState({posts:e,loading:!1})}},{key:"componentDidMount",value:function(){var e=window.location.hash,t=e.substring(e.indexOf("?")+1),n=new URLSearchParams(t).get("userId");n?O.getPostsFromUser(n,this.setPosts):O.getPosts(this.setPosts),this._mounted=!0}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"render",value:function(){for(var e=this,t=[],n=null,a=0;a<this.state.posts.length;a++){var r=this.state.posts[a];r.body.includes(this.state.line)&&(n=s.a.createElement(k,{key:r.id,postId:r.id,Uid:r.userId,post:r,body:r.body}),t.push(n))}return this.state.loading&&(t=s.a.createElement(x.a,{animation:"border"})),s.a.createElement("div",{className:"App"},s.a.createElement("input",{type:"text",placeholder:"Search post",onChange:function(t){return e.change(t.target.value)}}),s.a.createElement("br",null),"Number of Posts: ",t.length,s.a.createElement("br",null),s.a.createElement(f.a,null,t))}}]),t}(s.a.Component),P=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement(h.a,null,s.a.createElement("div",{className:"AppStyle"},s.a.createElement(p.a,{activeKey:""},s.a.createElement(p.a.Item,null,s.a.createElement(p.a.Link,{href:"./#/"},"Home")),s.a.createElement(p.a.Item,null,s.a.createElement(p.a.Link,{href:"./#/posts"},"All Posts")),s.a.createElement(p.a.Item,null,s.a.createElement(p.a.Link,{href:"./#/users"}," All users"))),s.a.createElement("hr",null),s.a.createElement(d.c,null,s.a.createElement(d.a,{exact:!0,path:"/"},s.a.createElement(I,null)),s.a.createElement(d.a,{path:"/posts"},s.a.createElement(C,null)),s.a.createElement(d.a,{path:"/users"},s.a.createElement(v,null)))))}}]),t}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(48);o.a.render(s.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[35,1,2]]]);
//# sourceMappingURL=main.9c50724e.chunk.js.map